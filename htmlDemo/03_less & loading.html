<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type">
	<meta content="text/html; charset=utf-8">
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.5, user-scalable=no">
	<meta http-equiv="Page-Enter" content="revealTrans(duration=10, transition=9)">
	<link rel="stylesheet" href="css/myless.css">
	<link rel="stylesheet" href="css/app-loading.css">
	<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
	<!--<script type="text/javascript" src="js/zepto.min.js"></script>-->
	<script type="text/javascript" src="js/swiper3.07.min.js"></script>
	<title>less的使用</title>

</head>
<body>
	<div class="loading-main"  id="loading">
	    <div class="loading-animate">
	        <div class="loader-threedots">
	            <span></span>
	            <span></span>
	            <span></span>
	        </div>
	        <div class="loading-text">精彩的内容需要您片刻的等待…</div>
	    </div>
	</div>

	<div style="display:table-row; clear:both; border-left: 50px solid #f00; border-right: 50px solid #f00; border-top:50px solid #fff; border-bottom: 50px solid #fff; ">
		<img class="myimg-1" src="images/54da504b512637ccf78983933594774d50d5c53e25963-QnIf8r_fw658.jpg" >
		<img class="myimg-1" src="images/d1a20cf431adcbef66be2a6eaeaf2edda2cc9fcb.jpg" >
		<div class="mydiv-1">要走的终究是要走，想离开的最终还是会离开，没有那些敷衍的理由，留下的，只是那些没有保鲜期的诺言；一本往事录，合上的是谁的归宿，那曾经盛开的花，只不过是擦肩而过的幸福。
		要走的终究是要走，想离开的最终还是会离开，没有那些敷衍的理由，留下的，只是那些没有保鲜期的诺言；一本往事录，合上的是谁的归宿，那曾经盛开的花，只不过是擦肩而过的幸福。
		</div>		
	</div>

	<style>
		#mydiv { position: relative; width:80%; height: 600px; margin: 0 auto; overflow: hidden; }
		.allslide { position: absolute; width: 100%;  }
		.myslide-div { display: table; width: 100%; height: 600px; font-size: 36px; }
		.myslide-p { display: table-cell; vertical-align: middle; text-align: center; color: #fff;  }

	</style>
	<div id="mydiv" >
		<div class="allslide">
			<div class="myslide-div" style="background:#d00;"><p class="myslide-p">第一屏</p></div>
			<div class="myslide-div" style="background:#0b0;"><p class="myslide-p">第二屏</p></div>
			<div class="myslide-div" style="background:#00b;"><p class="myslide-p">第三屏</p></div>
			<div class="myslide-div" style="background:#dd0;"><p class="myslide-p">第四屏</p></div>
			<div class="myslide-div" style="background:#d0d;"><p class="myslide-p">第五屏</p></div>
		</div>
	</div>
	<a href="##">跳转链接</a>



	<script src="js/my_js.js"></script>
	<script>


	/***************************************************************
						       图片加载
	***************************************************************/

	var loadImgArr=[]
	var allImgArr=[
		"images/54da504b512637ccf78983933594774d50d5c53e25963-QnIf8r_fw658.jpg",
		"images/d1a20cf431adcbef66be2a6eaeaf2edda2cc9fcb.jpg"
	];

	function loadImg(url){
		var newPic= new Image;
		newPic.src=url;

		if (newPic.complete){
			loadImgArr.push(url);
			return;
		}
		newPic.onload= function(){
			loadImgArr.push(url);
		};
		newPic.onerror= function(){
			alert("加载图片" + url +"错误");
		};			
	};

	function loadAllImg(all, load){
		for(var i=0, len= all.length; i<len; i++) {
			loadImg(all[i]);
		};
		load.length == all.length && $(".loading-main").css("display", "none");
	};

	setTimeout("loadAllImg(allImgArr, loadImgArr)",500);	



	$(function($){
		var topScroll=0,
			divSize   = $(".myslide-div").length-1,
			divHeight = $(".myslide-div").height();

		$("#mydiv").on("mousewheel", scrollDiv);
		document.getElementById("mydiv").addEventListener('DOMMouseScroll', scrollDiv , false);

		$(".myslide-div").on("click", function(){
			$(".allslide").animate( {top: $(this).index()*divHeight*-1 + "px"} );
		});

		$("#mydiv").on("touchmove", function(e){
			e.preventDefault();
			alert(e.originalEvent.targetTouches[0].clientX);

		});

		function scrollDiv(e){
			e= e || window.event;
			if(e.detail){
				topScroll+= e.detail*-1/3;
			}else if(event.wheelDelta){
				topScroll+= event.wheelDelta/120;
			};

			if( topScroll > 0 ){
				topScroll=0;
				return false;
			}else if( topScroll < divSize*-1 ) {
				topScroll=divSize*-1;
				return false;
			};

			$(".allslide").animate({top: topScroll*divHeight + "px"});
			e.preventDefault();
		}



		$.extend({
			sayhello: function(){alert("extend: hello");},
			saygood:  function(){alert("extend: good");}
		});


		$.myTry= {
			sayhello: function(){alert("myTry: hello");},
			saygood:  function(){alert("myTry: good");}
		};


		window.myTryFn= function(){
			this.sayok= function(){	alert("OK");	};
		};
		myTryFn.prototype = {
			sayhello: function(){alert("hello");},
			saygood:  function(){alert("good");}
		};

		var ke={
			file: "eas",
			ke_fn: function(){	alert("ke_fn");	}
		}


		// function preloadImages(allfiles) {
		//     function loadImg(o) {
		//     	console.log(o);
		//         var s = new Image;
		//         s.onload = function() {
		//             loadfiles.push(o), 	
		//             loadfiles.length < allfiles.length || t({   //如果 || 前面判断为假，执行
		//                 files: allfiles,
		//                 loadeds: loadfiles
		//             })
		//         },
		//         s.src = o;
		//     }

		//     var r, t, s,
		//         loadfiles = [],
		//         l = {
		//             files: allfiles,
		//             loadeds: loadfiles,
		//         }; 
		//     for (var a = 0, u = allfiles.length; u > a; a++) loadImg(allfiles[a]);
		//     return l
		// }

  //       if(getCookie("app_loading")!=1){
  //           setTimeout(function() {

  //               var files = [
  //               	"images/54da504b512637ccf78983933594774d50d5c53e25963-QnIf8r_fw658.jpg",
  //               	"images/d1a20cf431adcbef66be2a6eaeaf2edda2cc9fcb.jpg"
	 //            ];
  //               preloadImages(files)
  //                       .onprogress(function(data) {
  //                           var loaded = data.loadeds.length;
  //                           var all = data.files.length;
  //                           var progress = parseInt(100 * loaded / all, 10);
  //                           alert("onprogress");

  //                           console.log(
  //                                   data.path, 'is loades.',
  //                                   'Status:', loaded + '/' + all, '(' + progress + '%)'
  //                           );

  //                       })
  //                       .onload(function(data) {
  //                           document.getElementById("loading").style.display="none";
  //                           document.getElementById("pageContain").style.display="block";
  //                       })
  //                       .onerror(function(data) {
  //                           alert("error");
  //                       });
  //           }, 1000);
  //           setCookie('app_loading','1');
  //           return;
  //       }else{
  //           document.getElementById("loading").style.display="none";
  //       }

	 //    /*cookie 方法调用*/
	 //    function getCookie(name) {
	 //        var cookie_start = document.cookie.indexOf(name);
	 //        var cookie_end = document.cookie.indexOf(";", cookie_start);
	 //        return cookie_start == -1 ? '' : unescape(document.cookie.substring(cookie_start + name.length + 1, (cookie_end > cookie_start ? cookie_end : document.cookie.length)));
	 //    }
	 //    function setCookie(cookieName, cookieValue) {
	 //        var expires = new Date(new Date().getTime()+9999999999999);
	 //        expires.setTime(expires.getTime());
	 //        document.cookie = escape(cookieName) + '=' + escape(cookieValue)
	 //        + (expires ? '; expires=' + expires.toGMTString() : '');
	 //    }

	})
	</script>






</body>
</html>

