var HL=HL||{};HL.Cookie={Get:function(name){var temp,cv=document.cookie.split("; "),cva=[];for(i=0;i<cv.length;i++)temp=cv[i].split("="),cva[temp[0]]=unescape(temp[1]);return name?cva[name]:cva},Set:function(name,value,expires,path,domain,secure){if(!name||!value)return!1;if(""==name||""==value)return!1;if(expires)if(/^[0-9]+$/.test(expires)){var today=new Date;expires=new Date(today.getTime()+1e3*expires).toGMTString()}else/^wed, \d{2} \w{3} \d{4} \d{2}\:\d{2}\:\d{2} GMT$/.test(expires)||(expires=void 0);var cv=name+"="+escape(value)+";"+(expires?" expires="+expires+";":"")+(path?"path="+path+";":"")+(domain?"domain="+domain+";":"")+(secure&&0!=secure?"secure":"");return cv.length<4096?(document.cookie=cv,!0):!1},Del:function(name,path,domain){return name?""==name?!1:this.Get(name)?(document.cookie=name+"=;"+(path?"path="+path+";":"")+(domain?"domain="+domain+";":"")+"expires=Thu, 01-Jan-1970 00:00:01 GMT;",!0):!1:!1}},window.HL=HL,function($,window){function feedTempData(temp,data){return temp.replace(/{{\w+}}/g,function(keyword){var value=data[keyword.substr(2,keyword.length-4)];return"undefined"==typeof value?keyword:value})}var extend=function(base,more){var result={};for(var prop in base)result[prop]=base[prop];for(var prop in more)result[prop]=more[prop];return result},PopMiniable=function(opt){var noop=function(){};defaultOpts={baseTemp:'<div class="pop-miniable-wraper" id="pop-miniable-wraper" >				<div class="mini-mask">				</div>				<div id="pop-miniable-main" class="pop-miniable-main">					{{mainHtml}}				</div>				<div id="pop-miniable-sub" class="pop-miniable-sub">					{{subHtml}}				</div>			</div>',mainTemp:'<a href="{{linkhref}}">				<img src="{{picsrc}}" class="pop-miniable-pic" />			</a>			<div class="pop-miniable-info">				<div class="pop-miniable-title">					{{title}}				</div>				<div class="pop-miniable-desc">					{{desc}}				</div>				<a href="javascript:;" class="pop-miniable-btn close" onclick="PopMiniable.close();">{{closeTxt}}</a>				<a href="javascript:;" class="pop-miniable-btn ok" onclick="PopMiniable.ok();">{{okTxt}}</a>			</div>',subTemp:'<img src="{{minisrc}}" class="songzengxian" onclick="PopMiniable.open();" />',closeFn:noop,closeTxt:"取消",okFn:noop,okTxt:"好的",classFix:""};var opts=extend(defaultOpts,opt);this.opts=opts,PopMiniable.$instent=this};PopMiniable.prototype.open=function(){var baseTemp=this.opts.baseTemp,mainTemp=this.opts.mainTemp,subTemp=this.opts.subTemp,mainHtml=feedTempData(mainTemp,this.opts),subHtml=feedTempData(subTemp,this.opts);this.opts.mainHtml=mainHtml,this.opts.subHtml=subHtml;var baseHtml=feedTempData(baseTemp,this.opts);$("#pop-miniable-sub").length?$("#pop-miniable-sub").fadeOut(100,function(){$("#pop-miniable-wraper").remove(),$("body").append(baseHtml),$("#pop-miniable-main,.mini-mask").fadeIn(250)}):($("body").append(baseHtml),$("#pop-miniable-main,.mini-mask").fadeIn(),setTimeout(function(){$("#pop-miniable-main").width($(window).width()-48)},100))};var miniSizeWindow=function(){$(".pop-miniable-main").html(),$(".pop-miniable-main").html("");var onAnimationEnd=function(){$(".pop-miniable-main").removeClass("animated move-pop-miniable"),$(".pop-miniable-main,.mini-mask").hide(),$(".pop-miniable-sub").fadeIn(250),animationTimout&&(clearTimeout(animationTimout),animationTimout=null)};animationTimout=setTimeout(function(){onAnimationEnd()},350),$(".pop-miniable-main").addClass("animated move-pop-miniable").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){onAnimationEnd()})};PopMiniable.prototype.close=function(){miniSizeWindow(),this.opts.closeFn()},PopMiniable.prototype.ok=function(){miniSizeWindow(),this.opts.okFn()},PopMiniable.open=function(){this.$instent.open()},PopMiniable.close=function(){this.$instent.close()},PopMiniable.ok=function(){this.$instent.ok()},PopMiniable.extend=extend;var module=window.module;"object"==typeof module&&"object"==typeof module.exports?module.exports=PopMiniable:window.PopMiniable=PopMiniable}(jQuery,window),$(function(){!function(Storage,_global){function getdate(){var now=new Date;return y=now.getFullYear(),m=now.getMonth()+1,d=now.getDate(),m=m<10?"0"+m:m,d=d<10?"0"+d:d,y+"-"+m+"-"+d}_global=_global||{userid:0};var tool={openTime:null,storageFixed:"popMinTime_",init:function(){self=this;var today=getdate();self.storageKey=self.storageFixed+today+"_"+_global.userid,self.openTime=Storage.Get(self.storageKey)||0},save:function(){self=this,Storage.Set(self.storageKey,self.openTime,172800)},checkOpen:function(cb){self=this,self.openTime<3&&(self.openTime++,cb(),self.save())}},optmore={closeTxt:"放弃订单",okTxt:"马上赠送",minisrc:"img/fu-pakage.png",okFn:function(){console.log("okFn")},closeFn:function(){console.log("closeFn")}};window.goTozengxianData&&(optmore=PopMiniable.extend(optmore,window.goTozengxianData),mini=new PopMiniable(optmore),tool.init(),$(document).ready(function(){appBridge&&appBridge.checkAppFeature("SHARING_AWARE")&&appBridge.onSharingDone(function(sharingResult){tool.checkOpen(function(){mini.open()})})}))}(HL.Cookie,window.global)});
//# sourceMappingURL=zengxian-fixed.min.js.map
